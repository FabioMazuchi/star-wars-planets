(this["webpackJsonpstar-wars-planets"]=this["webpackJsonpstar-wars-planets"]||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/github.ccadf543.png"},13:function(e,t,a){e.exports=a.p+"static/media/linkedin.5bb3ed2b.png"},16:function(e,t,a){e.exports=a(23)},21:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),c=a.n(l),u=(a(21),Object(n.createContext)());var o=function(){var e=Object(n.useContext)(u),t=e.data,a=e.setData,l=e.filterByName,c=e.filterByNumericValues,o=e.removeFilter,i=e.filterOne,s=e.filterTwo,m=e.setFilterOne,f=e.setFilterTwo,p=l.name;return Object(n.useEffect)((function(){m([]),f([])}),[o]),Object(n.useEffect)((function(){1===c.length&&function(){var e=[],n=c[0],r=n.column,l=n.comparsion,u=n.value;t.forEach((function(t){var a=Number(t[r]),n=Number(u);"maior que"===l&&a>n&&e.push(t),"menor que"===l&&a<n&&e.push(t),"igual a"===l&&a===n&&e.push(t)})),m(e),a(e)}(),2===c.length&&function(){var e=[],t=c[1],n=t.column,r=t.comparsion,l=t.value;i.forEach((function(t){var a=Number(t[n]),c=Number(l);"maior que"===r&&a>c&&e.push(t),"menor que"===r&&a<c&&e.push(t),"igual a"===r&&a===c&&e.push(t)})),f(e),a(e)}(),3===c.length&&function(){var e=[],t=c[2],n=t.column,r=t.comparsion,l=t.value;s.forEach((function(t){var a=Number(t[n]),c=Number(l);"maior que"===r&&a>c&&e.push(t),"menor que"===r&&a<c&&e.push(t),"igual a"===r&&a===c&&e.push(t)})),a(e)}()}),[c]),r.a.createElement("section",{className:"table"},r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Rotation Period"),r.a.createElement("th",null,"Orbital Period"),r.a.createElement("th",null,"Diameter"),r.a.createElement("th",null,"Climate"),r.a.createElement("th",null,"Gravity"),r.a.createElement("th",null,"Terrain"),r.a.createElement("th",null,"Surface Water"),r.a.createElement("th",null,"Population"),r.a.createElement("th",null,"Films"),r.a.createElement("th",null,"Created"),r.a.createElement("th",null,"Edited"),r.a.createElement("th",null,"URL")),r.a.createElement("tbody",null,t.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())})).map((function(e){var t=e.name,a=e.rotation_period,n=e.orbital_period,l=e.diameter,c=e.climate,u=e.gravity,o=e.terrain,i=e.surface_water,s=e.population,m=e.films,f=e.created,p=e.edited,d=e.url;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,u),r.a.createElement("td",null,o),r.a.createElement("td",null,i),r.a.createElement("td",null,s),r.a.createElement("td",null,m.map((function(e){return e}))),r.a.createElement("td",null,f),r.a.createElement("td",null,p),r.a.createElement("td",null,d))})))))},i=a(2),s=a.n(i),m=a(4),f=a(1);function p(){return(p=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a.results);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(){return p.apply(this,arguments)};var b=function(e,t){return e.map((function(e){return delete e[t],e}))},E=["population","orbital_period","diameter","rotation_period","surface_water"];var v=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(f.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)({name:""}),p=Object(f.a)(i,2),v=p[0],h=p[1],O=Object(n.useState)([]),j=Object(f.a)(O,2),g=j[0],N=j[1],y=Object(n.useState)([E]),C=Object(f.a)(y,2),F=C[0],w=C[1],S=Object(n.useState)(!1),k=Object(f.a)(S,2),x=k[0],B=k[1],q=Object(n.useState)(!1),_=Object(f.a)(q,2),A=_[0],D=_[1],R=Object(n.useState)([]),V=Object(f.a)(R,2),P=V[0],T=V[1],z=Object(n.useState)([]),L=Object(f.a)(z,2),J=L[0],M=L[1],G=Object(n.useState)({column:"",sort:""}),I=Object(f.a)(G,2),U=I[0],W=I[1];function X(){return(X=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=e.sent,a=b(t,"residents"),o(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){0===g.length&&function(){X.apply(this,arguments)}()}),[x,A]);var H={data:c,filterByName:v,filterByNumericValues:g,filters:F,removeAll:x,removeFilter:A,filterOne:P,filterTwo:J,order:U,setOrder:W,setFilterOne:T,setFilterTwo:M,setRemoveFilter:D,setData:o,setRemoveAll:B,setFilters:w,setFilterByNumericValues:N,setFilterByName:h};return r.a.createElement(u.Provider,{value:H},t)},h=a(6),O=["population","orbital_period","diameter","rotation_period","surface_water"];var j=function(){var e=Object(n.useState)("population"),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(f.a)(c,2),i=o[0],s=o[1],m=Object(n.useContext)(u),p=m.filters,d=m.order,b=m.setOrder,E=m.data,v=m.setData;return Object(n.useEffect)((function(){!function(){var e=d.column,t=d.radio,a=E.slice();console.log(a),""!==t&&("ASC"===t?a.sort((function(t,a){return Number(t[e])<Number(a[e])?-1:0})):a.sort((function(t,a){return Number(t[e])>Number(a[e])?-1:1}))),console.log(a),v(a)}()}),[d]),r.a.createElement("form",{className:"order"},r.a.createElement("select",{className:"person",value:a,onChange:function(e){var t=e.target;return l(t.value)},"data-testid":"column-sort"},p.map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("label",{className:"ASC"===i?"selected person":"person",htmlFor:"asc"},"Crescente",r.a.createElement("input",{onChange:function(){return s("ASC")},"data-testid":"column-sort-input-asc",type:"radio",id:"asc",name:"order",value:"ASC"})),r.a.createElement("label",{className:"DESC"===i?"selected person":"person",htmlFor:"desc"},"Decrescente",r.a.createElement("input",{onChange:function(){return s("DESC")},"data-testid":"column-sort-input-desc",type:"radio",id:"desc",name:"order",value:"DESC"})),r.a.createElement("button",{className:"button",onClick:function(){b({column:a,radio:i}),console.log("oi")},"data-testid":"column-sort-button",type:"button"},"Ordenar"))};var g=function(){var e=Object(n.useState)("population"),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)("maior que"),o=Object(f.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)("0"),p=Object(f.a)(m,2),d=p[0],b=p[1],E=Object(n.useContext)(u),v=E.filterByNumericValues,g=E.setFilterByNumericValues,N=E.filters,y=E.setFilters,C=E.removeFilter,F=Object(n.useContext)(u).removeAll;return Object(n.useEffect)((function(){l("population"),y(O)}),[F]),Object(n.useEffect)((function(){s("maior que"),b("0")}),[C]),Object(n.useEffect)((function(){v.forEach((function(e){var t=Object.values(e)[0],a=N.slice(),n=a.indexOf(t);-1!==n&&a.splice(n,1),y(a),l(a[0])}))}),[v]),r.a.createElement("section",{className:"forms"},r.a.createElement("form",{className:"formulario"},r.a.createElement("select",{className:"person",value:a,onChange:function(e){var t=e.target;return l(t.value)},"data-testid":"column-filter"},N.map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("select",{className:"person",value:i,onChange:function(e){var t=e.target;return s(t.value)},"data-testid":"comparison-filter"},r.a.createElement("option",null,"maior que"),r.a.createElement("option",null,"menor que"),r.a.createElement("option",null,"igual a")),r.a.createElement("input",{className:"person",value:d,onChange:function(e){var t=e.target;return b(t.value)},"data-testid":"value-filter",type:"number"}),r.a.createElement("button",{className:"button",onClick:function(){var e={column:a,comparsion:i,value:d};g([].concat(Object(h.a)(v),[e]))},"data-testid":"button-filter",type:"button"},"Filtrar")),r.a.createElement(j,null))};var N=function(){var e=Object(n.useContext)(u),t=e.filterByNumericValues,a=e.setFilterByNumericValues,l=e.setFilters,c=e.removeAll,o=e.setRemoveAll,i=e.removeFilter,s=e.setRemoveFilter,m=e.filterOne,f=e.filterTwo,p=e.setData;return r.a.createElement("section",{className:"filtros"},r.a.createElement("ul",null,t.map((function(e,n){var c=e.column,u=e.comparsion,o=e.value;return r.a.createElement("li",{"data-testid":"filter",key:c},"".concat(c," ").concat(u," ").concat(o),r.a.createElement("button",{type:"button",onClick:function(){return function(e,n){var r=t.slice();r.splice(e,1),a(r),l((function(e){return[].concat(Object(h.a)(e),[n])})),s(!i),0===e&&p(f),1===e&&p(m)}(n,c)},"data-testid":"button-remove-filters"},"X"))}))),r.a.createElement("button",{className:"button",onClick:function(){a([]),l(O),o(!c)},"data-testid":"button-remove-filters",type:"button"},"Remover Filtros"))};var y=function(){var e=Object(n.useContext)(u),t=e.setFilterByName,a=e.filterByName;return r.a.createElement("input",{className:"person",value:a.name,onChange:function(e){var a={name:e.target.value};t(a)},"data-testid":"name-filter",type:"text",placeholder:"Pesquise pelo nome do planeta..."})},C=a(9),F=a.n(C);var w=function(){return r.a.createElement("header",null,r.a.createElement("div",null,r.a.createElement("img",{src:F.a}),r.a.createElement("h4",null,"Planets")),r.a.createElement(y,null))},S=a(10),k=a(11),x=a(15),B=a(14),q=a(12),_=a.n(q),A=a(13),D=a.n(A),R=function(e){Object(x.a)(a,e);var t=Object(B.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Desenvolvido por ",r.a.createElement("b",null,"F\xe1bio Augusto Mazuchi")),r.a.createElement("div",{className:"links"},r.a.createElement("div",null,r.a.createElement("a",{target:"_blank",href:"https://github.com/FabioMazuchi"},r.a.createElement("img",{src:_.a})),r.a.createElement("a",{target:"_blank",href:"https://www.linkedin.com/in/fabio-augusto-mazuchi/"},r.a.createElement("img",{src:D.a}))),r.a.createElement("h4",null,"mazuchi.augusto@hotmail.com")))}}]),a}(n.Component);var V=function(){return r.a.createElement(v,null,r.a.createElement(w,null),r.a.createElement(g,null),r.a.createElement(N,null),r.a.createElement(o,null),r.a.createElement(R,null))};c.a.render(r.a.createElement(V,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a.p+"static/media/logo.e537f6ba.png"}},[[16,1,2]]]);
//# sourceMappingURL=main.d9c15d55.chunk.js.map